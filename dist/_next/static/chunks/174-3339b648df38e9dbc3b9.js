(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[174],{7348:function(e,t,n){"use strict";n.d(t,{o:function(){return j}});var r={};n.r(r),n.d(r,{setAuth:function(){return u}});var a={};n.r(a),n.d(a,{checkAuth:function(){return v},setLogin:function(){return x},setLogout:function(){return m}});var s=n(9226),c=n(879),i=n(6156),o=n(2107),u=function(e,t){return{type:o.A.AUTH,payload:{value:e,mainInfo:t}}},l=n(7757),p=n.n(l),f=n(2137),d=n(6208),h=n(1163),x=function(e,t){return function(){var n=(0,f.Z)(p().mark((function n(r){var a;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,d.K.login(e,t);case 3:a=n.sent,localStorage.setItem("Token",a.data.accessToken),r(u(!0,a.data)),h.default.push("/FindVacancies"),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0.response.data),alert(n.t0.response.data.message);case 13:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},m=function(){return function(){var e=(0,f.Z)(p().mark((function e(t){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.K.logout();case 3:localStorage.removeItem("Token"),t(u(!1)),h.default.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},v=function(){return function(){var e=(0,f.Z)(p().mark((function e(t){var n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.K.refresh();case 3:n=e.sent,localStorage.setItem("Token",n.data.accessToken),t(u(!0,n.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()};function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=w(w({},r),a),j=function(){var e=(0,s.I0)();return(0,c.DE)(y,e)}},9701:function(e,t,n){"use strict";n.d(t,{i:function(){return r}});var r=n(9226).v9},2174:function(e,t,n){"use strict";var r=n(5893),a=n(6156),s=n(4699),c=n(7294),i=n(1992),o=n(1618),u=n(8610),l=n(3887),p=n(7272),f=n(4642),d=n(744),h=n(2715),x=n(8995),m=n(5984),v=n(1664),g=n(6117),w=n(9701),y=n(7348),j=n(9865),k=n(5675),b=n(3976),Z=n(8884),C=n(6010),N=n(9946),I=[{title:"\u041f\u043e\u0438\u0441\u043a",href:"/FindVacancies",img:(0,r.jsx)(x.Z,{})},{title:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435",href:"/Favorite",img:(0,r.jsx)(m.Z,{})},{title:"C\u043e\u0437\u0434\u0430\u0442\u044c \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u044e",href:"/CreateVacancy",img:(0,r.jsx)(j.Z,{})},{title:"C\u043e\u0437\u0434\u0430\u0442\u044c \u0440\u0435\u0437\u044e\u043c\u0435",href:"/CreateResume",img:(0,r.jsx)(b.Z,{})}];t.Z=function(){var e,t=(0,N.Z)("(max-width: 900px)"),n=(0,N.Z)("(min-width: 900px)");c.useEffect((function(){localStorage.getItem("Token")&&E()}),[]);var m=c.useState(!1),j=(0,s.Z)(m,2),b=j[0],O=j[1],P=c.useState(null),D=(0,s.Z)(P,2),T=D[0],A=D[1],S=(0,y.o)(),M=S.setLogout,E=S.checkAuth,J=(0,g.y)(),F=(0,w.i)((function(e){var t=e.userReducer;return{isAuth:t.isAuth,mainInfo:t.mainInfo}})),W=F.isAuth,z=F.mainInfo,K=function(){if(b)return document.body.style.overflow="scroll",void O(!1);document.body.style.overflow="hidden",O(!0)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:(0,C.Z)((e={},(0,a.Z)(e,J.displayMenu,!0),(0,a.Z)(e,J.displayMenuActive,b),e)),children:(0,r.jsxs)("div",{className:J.burgerMenu,children:[(0,r.jsx)(v.default,{href:"/",children:(0,r.jsx)("a",{className:J.display,children:(0,r.jsx)(p.Z,{className:J.white,variant:"h5",onClick:K,children:"TW.ru"})})}),I.map((function(e){return(0,r.jsx)(v.default,{href:e.href,children:(0,r.jsx)(u.Z,{variant:"text",className:J.white,startIcon:e.img,onClick:K,children:(0,r.jsx)("a",{className:J.navigationMenu,children:e.title})})},e.title)}))]})}),(0,r.jsx)(l.Z,{position:"relative",children:(0,r.jsxs)(i.Z,{className:J.flex,children:[n?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v.default,{href:"/",children:(0,r.jsx)("a",{className:J.display,children:(0,r.jsx)(p.Z,{className:J.white,variant:"h5",children:"TW.ru"})})}),(0,r.jsx)("div",{className:J.display,children:W&&I.map((function(e){return(0,r.jsx)(v.default,{href:e.href,children:(0,r.jsx)(u.Z,{variant:"text",className:J.white,startIcon:e.img,children:(0,r.jsx)("a",{className:J.white,children:e.title})})},e.title)}))})]}):"",W&&t?(0,r.jsx)("div",{onClick:K,children:(0,r.jsx)(h.Z,{className:J.padding,children:(0,r.jsx)(Z.Z,{})})}):"",W?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:J.flex,children:[(0,r.jsx)(p.Z,{children:"".concat(z.name," ").concat(z.secondName)}),(0,r.jsx)(o.Z,{onClick:function(e){A(e.currentTarget)},children:z.avatar?(0,r.jsx)(k.default,{className:J.avatar,src:"https://next-tailwind-project.herokuapp.com/".concat(z.avatar),layout:"intrinsic",width:40,height:40}):(0,r.jsx)(f.Z,{})})]}),(0,r.jsxs)(d.Z,{id:"menu",open:Boolean(T),onClose:function(){A(null)},anchorEl:T,children:[(0,r.jsx)(h.Z,{children:(0,r.jsx)(v.default,{href:"/Account",children:(0,r.jsx)("a",{className:J.textDecortation,children:"\u041c\u043e\u0439 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"})})}),(0,r.jsx)(h.Z,{className:J.textDecortation,onClick:function(){M()},children:"\u0412\u044b\u0439\u0442\u0438"})]})]}):(0,r.jsxs)("div",{children:[!W&&(0,r.jsx)(v.default,{href:"/FindVacancies",children:(0,r.jsx)(u.Z,{className:J.btn,variant:"contained",startIcon:(0,r.jsx)(x.Z,{}),color:"secondary",children:(0,r.jsx)("a",{className:J.navigation,children:"\u041f\u043e\u0438\u0441\u043a"})})}),(0,r.jsx)(v.default,{href:"/Authorization",children:(0,r.jsx)("a",{className:J.textDecortation,children:(0,r.jsx)(u.Z,{className:J.btn,variant:"contained",color:"success",children:"\u0412\u043e\u0439\u0442\u0438"})})})]})]})})]})}},6117:function(e,t,n){"use strict";n.d(t,{y:function(){return r}});var r=(0,n(376).Z)((function(e){return{flex:{display:"flex",justifyContent:"space-between",alignItems:"center"},displayMenu:{position:"absolute",width:"100%",height:"100%",zIndex:1200,top:"55px",left:"-100%",backgroundColor:"rgba(0,0,0,0.9)",transition:".3s linear"},burgerMenu:{display:"flex",margin:"40px 40px",width:"100%",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between"},displayMenuActive:{left:"0",transition:".3s linear"},navigationMenu:{margin:"10px 0",fontSize:"18px"},padding:{padding:"0"},navigation:{color:"white"},textDecortation:{margin:"0 0 0 5px",textDecoration:"none",color:"black"},avatar:{borderRadius:"50%"},white:{color:"white!important"},passwordText:{cursor:"pointer"},modal:{display:"flex",justifyContent:"center",alignItems:"center"},paperModal:{padding:"20px",minWidth:"200px",maxWidth:"500px",maxHeight:"350px"},btns:{display:"flex",flexWrap:"wrap",justifyContent:"space-between"},outlineBtn:{flex:1,padding:"5px 10px",margin:"0 10px 0 0"},btn:{padding:"5px 10px"},img:{color:"black"},forgotPassword:{margin:"35px 0 0 0",display:"flex",justifyContent:"flex-start"},wrapper:{display:"flex",flexDirection:"column",margin:"180px auto",maxWidth:"400px"},display:{display:"flex",justifyContent:"space-between",textDecoration:"none"}}}))},8658:function(e,t,n){"use strict";n.d(t,{J:function(){return o},h:function(){return u}});var r=n(7757),a=n.n(r),s=n(2137),c=n(9669),i=n.n(c),o="http://localhost:5000/api",u=i().create({withCredentials:!0,baseURL:o});u.interceptors.request.use((function(e){return e.headers.Authoration="Bearer ".concat(localStorage.getItem("Token")),e})),u.interceptors.request.use((function(e){return e}),function(){var e=(0,s.Z)(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.config,401!=t.response.status){e.next=13;break}return e.prev=2,e.next=5,i().get("".concat(o,"/refresh"),{withCredentials:!0});case 5:return r=e.sent,localStorage.setItem("Token",r.data.accessToken),e.abrupt("return",u.request(n));case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}())},6208:function(e,t,n){"use strict";n.d(t,{K:function(){return p}});var r=n(7757),a=n.n(r),s=n(2137),c=n(6610),i=n(5991),o=n(9669),u=n.n(o),l=n(8658),p=function(){function e(){(0,c.Z)(this,e)}return(0,i.Z)(e,null,[{key:"registration",value:function(){var e=(0,s.Z)(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.h.post("/registration",{email:t,password:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=(0,s.Z)(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.h.post("/login",{email:t,password:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=(0,s.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.h.get("/logout");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"refresh",value:function(){var e=(0,s.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().get("".concat(l.J,"/refresh"),{withCredentials:!0});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getUser",value:function(){var e=(0,s.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().get("".concat(l.J,"/user"),{withCredentials:!0});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"updateSkills",value:function(){var e=(0,s.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().put("".concat(l.J,"/update/skills"),{skills:t},{withCredentials:!0});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateMainInfo",value:function(){var e=(0,s.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("avatar",t.avatar),n.append("name",t.name),n.append("secondName",t.secondName),n.append("date",t.bithday),n.append("phone",t.phone),n.append("city",t.city),n.append("gender",t.gender),n.append("country",t.country),e.next=11,u().put("".concat(l.J,"/update/mainInfo"),n,{headers:{"Content-type":"multipart/form-data"},withCredentials:!0});case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updatePosition",value:function(){var e=(0,s.Z)(a().mark((function e(t,n,r){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().put("".concat(l.J,"/update/position"),{position:t,salary:n,specializations:r},{withCredentials:!0});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"changePassword",value:function(){var e=(0,s.Z)(a().mark((function e(t,n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().post("".concat(l.J,"/changePassword"),{link:t,newPassword:n});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"forgotPassword",value:function(){var e=(0,s.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().post("".concat(l.J,"/forgotPassword"),{email:t});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"confirmEmail",value:function(){var e=(0,s.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().post("".concat(l.J,"/confirmEmail"),{email:t});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}()}}]);